# vim: syntax=ini ts=2 sw=2 sts=2 sr noet

[user]
	name = Ryan McKern
	email = mckern@github.com
	signingKey = 0x817DCC4B71446E80

[color]
	diff = auto
	status = auto
	branch = auto
	ui = auto

[core]
	quotepath = false
	excludesfile = /Users/ryan/.gitignore_global
	pager =

[push]
	default = simple

[alias]
	amend = commit --amend
	authors = !git log --format='%aN <%aE>' | sort -u
	branches = branch --all
	branchname = rev-parse --abbrev-ref HEAD
	change-commits = "!f() { VAR=$1; OLD=$2; NEW=$3; shift 3; git filter-branch --env-filter \"if [[ \\\"$`echo $VAR`\\\" = '$OLD' ]]; then export $VAR='$NEW'; fi\" $@; }; f "
	ci = commit
	co = checkout
	contributors = authors
	dt = difftool
	ec = empty-commit
	empty-commit = commit --allow-empty
	files = show --pretty="format:" --name-only
	find-merge = "!bash -c 'commit=$0 && branch=${1:-HEAD} && (git rev-list $commit..$branch --ancestry-path | cat -n; git rev-list $commit..$branch --first-parent | cat -n) | sort -k2 -s | uniq -f1 -d | sort -n | tail -1 | cut -f2'"
	fix-email-github = commit --amend --author=\"Ryan McKern <mckern@github.com>\"
	fix-email-mckern = commit --amend --author=\"Ryan McKern <ryan@mckern.sh>\"
	fix-email-orangefort = commit --amend --author=\"Ryan McKern <ryan@orangefort.com>\"
	force = push --force-with-lease
	lastlog = log -n1
	mt = mergetool
	nb = new-branch
	new-branch = checkout -b
	oneline = log --pretty=oneline
	origin = remote add origin
	pop = stash pop
	ref = rev-parse HEAD
	remotes = remote -v
	rename = mv
	root = rev-parse --show-toplevel
	set-email-github = config user.email \"mckern@github.com\"
	set-email-mckern = config user.email \"ryan@mckern.sh\"
	set-email-orangefort = config user.email \"ryan@orangefort.com\"
	sha = short-ref
	short-ref = rev-parse --short=8 HEAD
	show-files = show --pretty --name-only
	show-merge = "!bash -c 'merge=$(git find-merge $0 $1) && [ -n \"$merge\" ] && git show $merge'"
	staged = diff --cached
	tags = tag --list
	uncommit = reset --soft HEAD^
	unstage = reset HEAD
	par = pull --rebase --autostash
	upstream = remote add upstream
	whoami = config user.email
[diff]
	tool = ksdiff
[mergetool "ksdiff"]
	cmd = ksdiff --merge --output \"${MERGED}\" --base \"${BASE}\" -- \"${LOCAL}\" --snapshot \"${REMOTE}\" --snapshot
	trustExitCode = true
[mergetool]
	prompt = false
[merge]
	tool = ksdiff
[difftool]
	prompt = false
[difftool "ksdiff"]
	cmd = ksdiff --partial-changeset --relative-path \"${MERGED}\" -- \"${LOCAL}\" \"${REMOTE}\"
[credential]
	helper = osxkeychain
[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	required = true
	process = git-lfs filter-process
[commit]
	gpgsign = true
